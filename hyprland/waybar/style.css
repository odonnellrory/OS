/************************************************************
 * CYBERPUNK NEON — Waybar CSS (fixed for GTK/Waybar)
 * - mix(): use 0–1 ratio (not %)
 * - remove @media (GTK3 parser)
 * - keep selectors tight for your named bars
 ************************************************************/

/* ===================== Palette ===================== */
@define-color bg            rgba(10, 8, 15, 0.45);
@define-color bg-strong     rgba(10, 8, 15, 0.72);
@define-color chip          rgba(22, 14, 28, 0.55);
@define-color chip-hover    rgba(32, 12, 32, 0.65);

@define-color text          #EDE7F7;
@define-color subtle        #B8A8D9;

@define-color neon          #FF0A54;
@define-color neon-2        #A100FF;
@define-color neon-3        #FF3EC8;

@define-color warn          #FF7A00;
@define-color err           #FF2B4F;

/* ====== Global type ====== */
* {
  font-family: "JetBrainsMono Nerd Font", "JetBrains Mono", monospace;
  font-weight: 500;           /* 450 is invalid in GTK */
  font-size: 12.5pt;
  color: @text;
}

/* ===================== Windows (bars) ===================== */
window#waybar { background: transparent; }

/* Scope by your “name” fields: top_bar / bottom_bar / left_bar */
window#waybar.top_bar,
window#waybar.bottom_bar,
window#waybar.left_bar {
  background: linear-gradient(135deg, alpha(@bg-strong, .92), alpha(@bg, .92));
  border-radius: 16px;
  border: 1px solid alpha(@neon-2, .35);
  /* Softer shadows: still glowy, less GPU cost */
  box-shadow:
    inset 0 0 0 1px alpha(@neon, .12),
    0 0 14px alpha(@neon-2, .22),
    0 0 32px alpha(@neon-3, .10);
}

/* Top */
window#waybar.top_bar {
  margin: 8px 10px 4px 10px;
  padding: 6px 10px;
}

/* Bottom */
window#waybar.bottom_bar {
  margin: 4px 10px 8px 10px;
  padding: 5px 10px;
  border-radius: 14px;
  border-color: alpha(@neon, .28);
}

/* Left (vertical) */
window#waybar.left_bar {
  margin: 10px;
  padding: 8px 6px;
  border-color: alpha(@neon-3, .28);
}

/* ===================== Tooltips ===================== */
tooltip {
  background: linear-gradient(180deg, alpha(@bg-strong, .98), alpha(@bg, .98));
  color: @text;
  border: 1px solid alpha(@neon-2, .45);
  border-radius: 12px;
  box-shadow:
    0 0 12px alpha(@neon-2, .30),
    0 0 24px alpha(@neon-3, .18);
}

/* ===================== Module blocks ===================== */
/* Note: custom modules use id form #custom-<name>, so your “custom/separator_dot”
   becomes #custom-separator_dot (you already had this right). */

#workspaces button,
#clock,
#custom-separator,
#custom-separator_dot,
#bluetooth,
#network,
#submap,
#window,
#language,
#keyboard-state,
#user,
#idle_inhibitor,
#mpris,
#privacy,
#custom-logout_menu,
#taskbar,
#cpu, #memory, #disk, #temperature, #battery, #backlight, #pulseaudio, #systemd-failed-units,
#tray {
  background: @chip;
  border: 1px solid alpha(@neon-2, .22);
  border-radius: 12px;
  padding: 6px 12px;
  margin: 4px 6px;
}

#workspaces button:hover,
#bluetooth:hover,
#network:hover,
#mpris:hover,
#pulseaudio:hover,
#idle_inhibitor:hover,
#custom-logout_menu:hover,
#taskbar button:hover,
#tray:hover,
#clock:hover {
  background: @chip-hover;
  border-color: alpha(@neon-3, .45);
  box-shadow:
    0 0 10px alpha(@neon, .40),
    0 0 20px alpha(@neon-2, .22);
}

/* Lighter text accents */
#cpu, #memory, #disk, #temperature, #battery, #backlight, #systemd-failed-units {
  color: @subtle;
}

/* ===================== Workspaces ===================== */
#workspaces { padding-left: 2px; }

#workspaces button {
  font-weight: 700;
  border: 1px solid transparent;
  color: @text;
  background: radial-gradient(120% 150% at 0% 0%,
    alpha(@neon-2, .10) 0%,
    alpha(@chip, 1.0) 55%);
}

#workspaces button.active {
  color: @text;
  border-color: alpha(@neon, .55);
  background: linear-gradient(135deg,
    alpha(@neon-2, .25) 0%,
    alpha(@chip, 0.85) 60%);
  box-shadow:
    0 0 10px alpha(@neon, .50),
    inset 0 0 12px alpha(@neon-2, .22);
}

#workspaces button.urgent {
  color: @text;
  border-color: alpha(@err, .85);
  background: alpha(@err, .20);
  box-shadow:
    0 0 12px alpha(@err, .55),
    inset 0 0 18px alpha(@err, .25);
}

/* ===================== Clocks ===================== */
/* mix() ratio fixed: 0–1 instead of % */
#clock.time { color: @neon; font-weight: 800; }
#clock.week { color: mix(@neon-2, @text, 0.60); }
#clock.month { color: mix(@neon-3, @text, 0.60); }
#clock.calendar { color: @text; }

/* Decorative separators */
#custom-separator, #custom-separator_dot {
  padding: 0 8px;
  color: alpha(@text, .65);
}

/* ===================== Net / BT / Audio ===================== */
#network { color: mix(@neon, @text, 0.70); }
#network.disconnected { color: @err; border-color: alpha(@err, .55); }
#bluetooth { color: mix(@neon-2, @text, 0.70); }

#pulseaudio { color: @text; }
#pulseaudio.muted {
  color: alpha(@text, .55);
  border-color: alpha(@neon-2, .18);
}
#pulseaudio.bluetooth,
#pulseaudio.bluetooth-muted { color: mix(@neon-3, @text, 0.70); }

/* ===================== System row ===================== */
#cpu         { color: mix(@neon,   @text, 0.55); }
#memory      { color: mix(@neon-2, @text, 0.55); }
#disk        { color: mix(@neon-3, @text, 0.55); }
#temperature { color: @warn; }
#temperature.critical {
  color: @err;
  border-color: alpha(@err, .75);
  box-shadow: 0 0 16px alpha(@err, .40);
}
#battery { color: mix(@neon, @text, 0.65); }
#battery.charging { color: @neon; }
#battery.critical:not(.charging) {
  color: @err;
  border-color: alpha(@err, .75);
}

/* ===================== Taskbar ===================== */
#taskbar button {
  padding: 10px;
  margin: 5px;
  border-radius: 12px;
  background: @chip;
  border: 1px solid alpha(@neon-2, .18);
}
#taskbar button:hover {
  background: @chip-hover;
  border-color: alpha(@neon-3, .45);
}
#taskbar button.active {
  background: linear-gradient(145deg,
    alpha(@neon-2, .18) 0%,
    alpha(@chip, .95) 55%);
  border-color: alpha(@neon, .50);
  box-shadow:
    0 0 12px alpha(@neon, .40),
    inset 0 0 14px alpha(@neon-2, .18);
}

/* ===================== Window title ===================== */
#window {
  min-width: 0;
  padding: 6px 14px;
  font-weight: 600;
  color: @text;
}

/* ===================== User / Language / Submap ===================== */
#user         { color: mix(@neon-3, @text, 0.70); }
#language     { color: mix(@neon-2, @text, 0.75); }
#submap       { color: mix(@neon,   @text, 0.75); }

/* ===================== Tray & Logout ===================== */
#tray { background: @chip; }
#custom-logout_menu {
  color: @err;
  border-color: alpha(@err, .55);
}

/* ===== Removed @media block (GTK doesn't support it reliably) ===== */
/* If you want “compact” mode, bind an alt stylesheet and swap with SIGUSR2:
   waybar -s ~/.config/waybar/style-compact.css
*/

